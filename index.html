<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Landscape with Name</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            z-index: 1;
        }

        .landscape-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            z-index: 1;
        }

        .name-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: auto; /* Changed from none to enable hover */
            z-index: 100;
            cursor: pointer;
        }

        .name-overlay svg {
            width: 600px;
            height: auto;
            max-width: 80vw;
            max-height: 40vh;
            z-index: 100;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Floating animation */
        .name-overlay {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translate(-50%, -50%) translateY(0px);
            }
            50% {
                transform: translate(-50%, -50%) translateY(-10px);
            }
        }

        /* Hover effects: small scale */
        .name-overlay:hover svg {
            transform: scale(1.05);
        }

        /* Add depth to all layers with shadows */
        svg g {
            filter: drop-shadow(0 3px 6px rgba(0,0,0,0.2));
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .name-overlay svg {
                max-width: 90vw;
                max-height: 30vh;
            }
        }

        /* Interactive hint */
        .hover-hint {
            display: none;
        }
    </style>
</head>
<body>
    <div class="landscape-container" id="svg-container">
        <!-- Landscape SVG will be loaded here -->
    </div>
    
    <div class="name-overlay" id="name-container">
        <!-- Name SVG will be loaded here -->
    </div>



    <script>
        let mouseX = 0;
        let mouseY = 0;
        let svgLayers = [];

        // Load the landscape SVG
        fetch('scene.svg')
            .then(response => response.text())
            .then(svgText => {
                console.log('Landscape SVG loaded successfully');
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = svgText;
                const svgElement = tempDiv.querySelector('svg');
                
                if (svgElement) {
                    svgElement.style.width = '100vw';
                    svgElement.style.height = '100vh';
                    svgElement.style.display = 'block';
                    svgElement.style.objectFit = 'cover';
                    svgElement.setAttribute('preserveAspectRatio', 'xMidYMid slice');
                    
                    document.getElementById('svg-container').appendChild(svgElement);
                    
                    // Get cloud layers for mouse interaction
                    svgLayers = Array.from(svgElement.querySelectorAll('g')).filter(layer => {
                        const id = layer.id;
                        return id === '_x33_7' || id === '_x33_8' || id === '_x33_9';
                    });
                    console.log(`Found ${svgLayers.length} cloud layers for interaction`);
                    
                    setupMouseInteraction();
                }
            })
            .catch(error => console.error('Error loading landscape SVG:', error));

        // Load the name SVG overlay
        fetch('name.svg')
            .then(response => response.text())
            .then(svgText => {
                console.log('Name SVG loaded successfully');
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = svgText;
                const svgElement = tempDiv.querySelector('svg');
                
                if (svgElement) {
                    // Set explicit dimensions based on viewBox
                    const viewBox = svgElement.getAttribute('viewBox');
                    if (viewBox) {
                        const [, , width, height] = viewBox.split(' ').map(Number);
                        svgElement.setAttribute('width', width);
                        svgElement.setAttribute('height', height);
                    }
                    
                    document.getElementById('name-container').appendChild(svgElement);
                    console.log('Name SVG added to overlay');
                    

                }
            })
            .catch(error => console.error('Error loading name SVG:', error));



        function setupMouseInteraction() {
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
                updateLayerPositions();
            });
        }

        function updateLayerPositions() {
            svgLayers.forEach((layer) => {
                const rect = layer.getBoundingClientRect();
                const layerCenterX = rect.left + rect.width / 2;
                const layerCenterY = rect.top + rect.height / 2;
                
                const deltaX = mouseX - layerCenterX;
                const deltaY = mouseY - layerCenterY;
                const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                
                if (distance < 250) {
                    const force = Math.pow((250 - distance) / 250, 1.5);
                    const maxPush = 25;
                    
                    const directionX = deltaX / distance;
                    const directionY = deltaY / distance;
                    
                    const pushX = directionX * force * maxPush;
                    const pushY = directionY * force * maxPush;
                    
                    const scale = 1 + force * 0.05;
                    const rotation = force * 3;
                    
                    layer.style.setProperty('transform', `translate(${pushX}px, ${pushY}px) scale(${scale}) rotate(${rotation}deg)`, 'important');
                    layer.style.setProperty('transition', 'transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)', 'important');
                    layer.style.setProperty('animation', 'none', 'important');
                } else {
                    layer.style.setProperty('transform', 'translate(0px, 0px) scale(1) rotate(0deg)', 'important');
                    layer.style.setProperty('transition', 'transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)', 'important');
                }
            });
        }
    </script>
</body>
</html>